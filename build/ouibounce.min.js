!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.ouibounce=t()}(this,function(){return function(e,t){function n(e,t){return"undefined"==typeof e?t:e}function i(e){var t=24*e*60*60*1e3,n=new Date;return n.setTime(n.getTime()+t),"; expires="+n.toGMTString()}function o(){y.addEventListener("mouseout",u),y.addEventListener("keydown",r)}function u(e){e.clientY>a||d("viewedOuibounceModal","true")&&!s||(c(),p())}function r(e){k||d("viewedOuibounceModal","true")&&!s||e.metaKey&&76==e.keyCode&&(k=!0,c(),p())}function d(e,t){var n=document.cookie.split("; ").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{});return n[e]===t}function c(){e&&(e.style.display="block"),f()}function f(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(v=i(e.cookieExpire)),"undefined"!=typeof e.sitewide&&(l=";path=/"),document.cookie="viewedOuibounceModal=true"+v+l,y.removeEventListener("mouseout",u),y.removeEventListener("keydown",r)}var t=t||{},s=t.aggressive||!1,a=n(t.sensitivity,20),m=n(t.timer,1e3),p=t.callback||function(){},v=i(t.cookieExpire)||"",l=t.sitewide===!0?";path=/":"",y=document.getElementsByTagName("html")[0];setTimeout(o,m);var k=!1;return{fire:c,disable:f}}});